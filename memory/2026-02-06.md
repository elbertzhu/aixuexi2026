# 2026-02-06

## v0.5.1 Release

### Key Decisions
- **v0.5.0 Backend**: Implemented anti-abuse (usage_limit, expires_at), rate limiting (429), and audit logs.
- **v0.5.1 Frontend**: Integrated backend features into iPad UI.
- **Testing Strategy**: Discovered that `CREATE TABLE IF NOT EXISTS` does not migrate existing tables. Solution: `rm data/user_stats.db` for schema updates.

### Commits
- `232f0f0` fix(v0.5.1): integrate anti-abuse UI and enhanced errors
- `64eb7b1` fix(v0.5.0): fix sqlite finalize logic and package.json main path
- `ab3ce7c` feat(v0.5.0): invite abuse protection and audit logs

### v0.5.1 Features
- **Invite Code Sheet**: Shows usage count/progress bar.
- **Error Handling**: 429 (Rate Limit), expired codes, usage limits.
- **Audit API**: `GET /api/teacher/audit` ready for future UI.

### Lessons
- **Schema Migration**: SQLite `IF NOT EXISTS` only works for new tables. Existing tables need manual ALTER or recreation.
- **Offset Errors**: Avoid hardcoded `offset=N`. Use `tail` or `grep` to find content.
